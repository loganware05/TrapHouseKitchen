# TrapHouse Kitchen - System Architecture

## ğŸ—ï¸ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Progressive Web App (PWA)                               â”‚   â”‚
â”‚  â”‚  â€¢ React 18 + TypeScript                                 â”‚   â”‚
â”‚  â”‚  â€¢ TailwindCSS                                           â”‚   â”‚
â”‚  â”‚  â€¢ Vite Build Tool                                       â”‚   â”‚
â”‚  â”‚  â€¢ Service Worker (Offline Support)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTPS/REST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API LAYER                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Express.js REST API                                     â”‚   â”‚
â”‚  â”‚  â€¢ JWT Authentication                                    â”‚   â”‚
â”‚  â”‚  â€¢ Role-Based Access Control (RBAC)                      â”‚   â”‚
â”‚  â”‚  â€¢ Input Validation                                      â”‚   â”‚
â”‚  â”‚  â€¢ Error Handling                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ Prisma ORM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DATABASE LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PostgreSQL 16                                           â”‚   â”‚
â”‚  â”‚  â€¢ 13 Tables (Users, Dishes, Orders, etc.)              â”‚   â”‚
â”‚  â”‚  â€¢ Foreign Key Constraints                               â”‚   â”‚
â”‚  â”‚  â€¢ Indexes for Performance                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ User Flow Diagrams

### Customer Journey

```
Start
  â”‚
  â”œâ”€â†’ Browse Menu (No Auth Required)
  â”‚     â”‚
  â”‚     â”œâ”€â†’ View Dish Details
  â”‚     â””â”€â†’ Filter by Category
  â”‚
  â”œâ”€â†’ Register/Login (Optional)
  â”‚     â”‚
  â”‚     â”œâ”€â†’ Set Allergen Profile
  â”‚     â””â”€â†’ Set Dietary Preferences
  â”‚
  â”œâ”€â†’ Add to Cart
  â”‚     â”‚
  â”‚     â””â”€â†’ Allergen Check (Automatic)
  â”‚           â”‚
  â”‚           â”œâ”€â†’ Safe â†’ Add to Cart
  â”‚           â””â”€â†’ Unsafe â†’ Warning
  â”‚
  â”œâ”€â†’ Checkout
  â”‚     â”‚
  â”‚     â””â”€â†’ Place Order
  â”‚
  â”œâ”€â†’ Track Order Status
  â”‚     â”‚
  â”‚     â””â”€â†’ Pending â†’ Preparing â†’ Ready â†’ Completed
  â”‚
  â””â”€â†’ Submit Dish Request
        â”‚
        â””â”€â†’ Vote on Requests
```

### Chef Workflow

```
Start (Chef Login Required)
  â”‚
  â”œâ”€â†’ Dashboard
  â”‚     â”‚
  â”‚     â”œâ”€â†’ View Statistics
  â”‚     â”œâ”€â†’ See Pending Orders
  â”‚     â””â”€â†’ View Top Requests
  â”‚
  â”œâ”€â†’ Menu Management
  â”‚     â”‚
  â”‚     â”œâ”€â†’ Create Dish
  â”‚     â”‚     â”‚
  â”‚     â”‚     â”œâ”€â†’ Add Name, Description, Price
  â”‚     â”‚     â”œâ”€â†’ Select Category
  â”‚     â”‚     â”œâ”€â†’ Add Ingredients
  â”‚     â”‚     â”œâ”€â†’ Tag Allergens
  â”‚     â”‚     â””â”€â†’ Set Dietary Flags
  â”‚     â”‚
  â”‚     â”œâ”€â†’ Edit Dish
  â”‚     â””â”€â†’ Delete Dish
  â”‚
  â”œâ”€â†’ Order Management
  â”‚     â”‚
  â”‚     â”œâ”€â†’ View All Orders
  â”‚     â”œâ”€â†’ Filter by Status
  â”‚     â””â”€â†’ Update Status
  â”‚           â”‚
  â”‚           â””â”€â†’ Pending â†’ Preparing â†’ Ready â†’ Completed
  â”‚
  â””â”€â†’ Ingredients & Allergens
        â”‚
        â”œâ”€â†’ Manage Ingredients
        â””â”€â†’ Manage Allergens
```

## ğŸ—„ï¸ Database Schema Relationships

```
User â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â†’ Order â”€â”€â”€â”€â”€â†’ OrderItem â”€â”€â”€â”€â”€â†’ Dish
           â”‚
           â”œâ”€â”€â”€â”€â”€â†’ UserAllergen â”€â”€â”€â”€â”€â†’ Allergen
           â”‚
           â”œâ”€â”€â”€â”€â”€â†’ DietaryPreference
           â”‚
           â”œâ”€â”€â”€â”€â”€â†’ DishRequest â”€â”€â”€â”€â”€â†’ Vote
           â”‚
           â””â”€â”€â”€â”€â”€â†’ Vote

Dish â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â†’ Category
           â”‚
           â”œâ”€â”€â”€â”€â”€â†’ DishIngredient â”€â”€â”€â”€â”€â†’ Ingredient â”€â”€â”€â”€â”€â†’ IngredientAllergen â”€â”€â”€â”€â”€â†’ Allergen
           â”‚
           â””â”€â”€â”€â”€â”€â†’ DishAllergen â”€â”€â”€â”€â”€â†’ Allergen
```

## ğŸ” Authentication Flow

```
User Request
     â”‚
     â”œâ”€â†’ Has JWT Token?
     â”‚     â”‚
     â”‚     â”œâ”€â†’ Yes â†’ Validate Token
     â”‚     â”‚           â”‚
     â”‚     â”‚           â”œâ”€â†’ Valid â†’ Extract User Info
     â”‚     â”‚           â”‚              â”‚
     â”‚     â”‚           â”‚              â”œâ”€â†’ Check Role
     â”‚     â”‚           â”‚              â”‚     â”‚
     â”‚     â”‚           â”‚              â”‚     â”œâ”€â†’ Authorized â†’ Process Request
     â”‚     â”‚           â”‚              â”‚     â””â”€â†’ Not Authorized â†’ 403 Forbidden
     â”‚     â”‚           â”‚              â”‚
     â”‚     â”‚           â”‚              â””â”€â†’ Attach User to Request
     â”‚     â”‚           â”‚
     â”‚     â”‚           â””â”€â†’ Invalid â†’ 401 Unauthorized
     â”‚     â”‚
     â”‚     â””â”€â†’ No â†’ 401 Unauthorized
     â”‚
     â””â”€â†’ Guest Routes (No Auth Required)
           â”‚
           â”œâ”€â†’ GET /dishes
           â”œâ”€â†’ GET /categories
           â”œâ”€â†’ GET /allergens
           â””â”€â†’ POST /auth/login
```

## ğŸ“Š Data Flow

### Order Placement Flow

```
Customer                Frontend              Backend               Database
   â”‚                       â”‚                     â”‚                     â”‚
   â”‚  Click "Add to Cart"  â”‚                     â”‚                     â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚                     â”‚
   â”‚                       â”‚  Check Allergens    â”‚                     â”‚
   â”‚                       â”‚  (Client-Side)      â”‚                     â”‚
   â”‚                       â”‚                     â”‚                     â”‚
   â”‚  Click "Checkout"     â”‚                     â”‚                     â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚                     â”‚
   â”‚                       â”‚  POST /api/orders   â”‚                     â”‚
   â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚
   â”‚                       â”‚                     â”‚  Validate Dishes    â”‚
   â”‚                       â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                       â”‚                     â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                       â”‚                     â”‚  Calculate Total    â”‚
   â”‚                       â”‚                     â”‚  Create Order       â”‚
   â”‚                       â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                       â”‚                     â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
   â”‚  Order Confirmation   â”‚                     â”‚                     â”‚
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                     â”‚
```

### Allergen Filtering Flow

```
Customer                Frontend              Backend               Database
   â”‚                       â”‚                     â”‚                     â”‚
   â”‚  Set Allergen Profile â”‚                     â”‚                     â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚                     â”‚
   â”‚                       â”‚ POST /api/users/allergens                 â”‚
   â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚
   â”‚                       â”‚                     â”‚ Save UserAllergens  â”‚
   â”‚                       â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                       â”‚                     â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
   â”‚                       â”‚                     â”‚                     â”‚
   â”‚  Browse Menu          â”‚                     â”‚                     â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚                     â”‚
   â”‚                       â”‚  GET /api/dishes    â”‚                     â”‚
   â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                     â”‚
   â”‚                       â”‚                     â”‚  Fetch Dishes +     â”‚
   â”‚                       â”‚                     â”‚  Allergens          â”‚
   â”‚                       â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                       â”‚                     â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                       â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
   â”‚                       â”‚  Client-Side Filter â”‚                     â”‚
   â”‚                       â”‚  & Warning Display  â”‚                     â”‚
   â”‚  See Warnings         â”‚                     â”‚                     â”‚
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                     â”‚
```

## ğŸš€ Deployment Architecture

### Docker Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Docker Host                                                 â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Frontend    â”‚    â”‚  Backend     â”‚    â”‚  PostgreSQL  â”‚  â”‚
â”‚  â”‚  Container   â”‚â—„â”€â”€â”€â”¤  Container   â”‚â—„â”€â”€â”€â”¤  Container   â”‚  â”‚
â”‚  â”‚  (Nginx)     â”‚    â”‚  (Node.js)   â”‚    â”‚              â”‚  â”‚
â”‚  â”‚  Port: 80    â”‚    â”‚  Port: 3001  â”‚    â”‚  Port: 5432  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                     â”‚                    â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                        Docker Network                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
                      Internet Access
```

### AWS ECS Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS Cloud                                                   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Application Load Balancer                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ECS Cluster                                        â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚
â”‚  â”‚  â”‚  ECS Service    â”‚    â”‚  ECS Service    â”‚       â”‚    â”‚
â”‚  â”‚  â”‚  (Frontend)     â”‚    â”‚  (Backend)      â”‚       â”‚    â”‚
â”‚  â”‚  â”‚                 â”‚    â”‚                 â”‚       â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ Task      â”‚  â”‚    â”‚  â”‚ Task      â”‚  â”‚       â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ Container â”‚  â”‚    â”‚  â”‚ Container â”‚  â”‚       â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚  â”‚                                   â”‚                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  RDS PostgreSQL                                    â”‚    â”‚
â”‚  â”‚  â€¢ Multi-AZ                                        â”‚    â”‚
â”‚  â”‚  â€¢ Automated Backups                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ECR (Container Registry)                          â”‚    â”‚
â”‚  â”‚  â€¢ traphouse-kitchen:latest                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”’ Security Layers

```
Layer 1: Frontend Security
  â”œâ”€â†’ HTTPS Only
  â”œâ”€â†’ Input Sanitization
  â”œâ”€â†’ XSS Prevention
  â””â”€â†’ CSRF Protection

Layer 2: API Security
  â”œâ”€â†’ JWT Authentication
  â”œâ”€â†’ Role-Based Access Control
  â”œâ”€â†’ Rate Limiting
  â”œâ”€â†’ Input Validation
  â””â”€â†’ Error Handling (No Stack Traces)

Layer 3: Database Security
  â”œâ”€â†’ Parameterized Queries (Prisma)
  â”œâ”€â†’ Connection Pooling
  â”œâ”€â†’ Encrypted Passwords (bcrypt)
  â””â”€â†’ Foreign Key Constraints

Layer 4: Infrastructure Security
  â”œâ”€â†’ Environment Variables
  â”œâ”€â†’ Docker Isolation
  â”œâ”€â†’ Network Segmentation
  â””â”€â†’ Regular Updates
```

## ğŸ“± Progressive Web App Features

```
PWA Capabilities
  â”‚
  â”œâ”€â†’ Installable
  â”‚     â”œâ”€â†’ Add to Home Screen
  â”‚     â”œâ”€â†’ App Icon
  â”‚     â””â”€â†’ Splash Screen
  â”‚
  â”œâ”€â†’ Offline Support
  â”‚     â”œâ”€â†’ Service Worker
  â”‚     â”œâ”€â†’ Cache-First Strategy
  â”‚     â””â”€â†’ Fallback Pages
  â”‚
  â”œâ”€â†’ Native Feel
  â”‚     â”œâ”€â†’ Standalone Display
  â”‚     â”œâ”€â†’ Full Screen
  â”‚     â””â”€â†’ iOS Safe Areas
  â”‚
  â””â”€â†’ Performance
        â”œâ”€â†’ Fast Load Times
        â”œâ”€â†’ Lazy Loading
        â””â”€â†’ Code Splitting
```

---

**System Components:** 100+ files, 10,000+ lines of code
**Technologies:** 15+ frameworks/libraries
**API Endpoints:** 24+ REST endpoints
**Database Tables:** 13 tables
**Ready for:** Development, Testing, Production
